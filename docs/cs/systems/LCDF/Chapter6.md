# Chapter 6
Registers and Register Transfers

!!! info
    å¯„å­˜å™¨ç”±ä¸€ç³»åˆ—çš„flip-flopsç»„æˆï¼ŒåŒæ—¶å…·æœ‰è®¸å¤šç»„åˆé—¨æ¥ å†³å®š æ•°æ®æ˜¯å¦ä¼ å…¥flip-flopsä¸­

    å¯ä»¥å­˜å‚¨vectorï¼Œè¿˜èƒ½å®ç°ä¸€ç³»åˆ— å¦‚countã€shiftç­‰çš„æ“ä½œ

## 2-bit Register

![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20209.png)

![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20210.png)

## Load

- åŸæ¥çš„è®¾è®¡ä¸­ï¼Œä»»ä½•çš„æ—¶é’Ÿå‘¨æœŸéƒ½å¯ä»¥è¿›è¡Œæ•°æ®çš„è½½å…¥ï¼Œæˆ‘ä»¬å¸Œæœ›è¿™ç§æ•°æ®è½½å…¥èƒ½è¢«äººä¸ºæ§åˆ¶ï¼Œèƒ½æœ‰ä¸€ä¸ªä¿æŒçš„çŠ¶æ€ï¼Œäºæ˜¯æˆ‘ä»¬å¼•å…¥ `Load`

### Load Method 1: Registers with Clock Gating é—¨æ§æ—¶é’Ÿ

![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20211.png)

- å½“`load=1`ï¼Œæ­£è¾¹æ²¿å¯ä»¥æ­£å¸¸è§¦å‘ï¼›

- å½“`load=0`ï¼Œæ­£è¾¹æ²¿è¢«å±è”½

- ä½†ä¼šæœ‰ `clock skew`é—®é¢˜

> ç„¶è€Œï¼Œåœ¨é—¨æ§æ—¶é’ŸæŠ€æœ¯ä¸­ï¼Œç”±äºæ·»åŠ äº†ä¸€ä¸ªé¢å¤–çš„é€»è¾‘é—¨ï¼Œæ—¶é’Ÿè„‰å†²åˆ°è¾¾ Control çš„æ—¶å€™ä¼šå‡ºç°é¢å¤–çš„ä¼ æ’­å»¶æ—¶ï¼Œå³**æ—¶é’Ÿåç§»(clock skew)**ã€‚è€Œè¿™å¾®å°çš„å»¶æ—¶ä¼šå¯¼è‡´åœ¨æ•´ä¸ªåŒæ­¥ç³»ç»Ÿä¸­ï¼Œä¸åŒç»„ä»¶å¾—åˆ°çš„æ—¶é’Ÿè„‰å†²æœ‰åå·®ï¼Œè€Œè¿™æ˜¯æˆ‘ä»¬æ‰€ä¸å¸Œæœ›çœ‹åˆ°çš„ã€‚æ‰€ä»¥åœ¨å®é™…è®¾è®¡ä¸­ï¼Œæˆ‘ä»¬åº”å½“é¿å…æˆ–å°½å¯èƒ½ç¼©å°æ—¶é’Ÿåç§»ã€‚
> 
> 
> ![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20212.png)
> 

### Load Method 2: Registers with Load-Controlled Feedback

> å¦å¤–ä¸€ä¸ªåšæ³•æ˜¯ï¼Œåœ¨ä¸å¸Œæœ›å®ƒä¿®æ”¹çš„æ—¶å€™ï¼Œä¸æ–­å°†å®ƒçš„è¾“å…¥è½½å…¥ï¼Œä¹Ÿå°±æ˜¯ä¿æŒä¸å˜ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸ª `MUX` æ¥å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œç”¨ `Load` ä½¿èƒ½ç«¯æ¥é€‰æ‹©æ˜¯è½½å…¥æ–°å€¼è¿˜æ˜¯ä¿æŒä¹‹å‰çš„å€¼ï¼Œå¦‚ä¸‹å›¾ã€‚
> 

![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20213.png)

- $Y=\bar{Load}Â·Y+LoadÂ·In$

- å½“Load=0ï¼Œholdæ•°æ®

- å½“Load=1ï¼Œè½½å…¥æ–°æ•°æ®

## **å¯„å­˜å™¨ä¼ è¾“**

- ä¸€ä¸ªå¤æ‚ç³»ç»Ÿé™¤äº†ä¿¡æ¯çš„å­˜å‚¨è¿˜éœ€è¦ä¿¡æ¯çš„ä¼ è¾“å’Œå¤„ç†ï¼Œæ¢å¥è¯æ¥è¯´ï¼Œä¸ºäº†å®ç°çµæ´»ã€å¤æ‚çš„è®¡ç®—ï¼Œæˆ‘ä»¬éœ€è¦ä¿¡æ¯ä¹‹é—´èƒ½å¤Ÿå¹¿æ³›åœ°äº¤äº’ã€‚å¤§éƒ¨åˆ†ç”µå­ç³»ç»Ÿè®¾è®¡ä¸­ï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ª**æ§åˆ¶å•å…ƒ(Control Unit)**æ¥è´Ÿè´£æŒ‡æŒ¥**æ•°æ®é€šè·¯(Datapath)**è¿›è¡Œæ•°æ®å¤„ç†ã€‚

> Datapath performs data-processing operations, and control unit determines the sequence of those operations.
> 
> 
> Datapaths are defined by their registers and the operations performed on binary data stored in the registers.
> 

- å¯¹äºå¯„å­˜å™¨è‡ªèº«è€Œè¨€ï¼Œå®ƒå¯èƒ½å®ç° è½½å…¥(load)ã€æ¸…ç©º(clear)ã€ç§»ä½(shift) å’Œ è®¡æ•°(count) ç­‰ã€‚æ­¤å¤–ï¼Œå¯¹äºé‚£äº›å¯„å­˜å™¨ä¸­çš„æ•°æ®è¿›è¡Œç§»åŠ¨äº†çš„åŠ å·¥ï¼Œè¢«ç§°ä¸º**å¯„å­˜å™¨ä¼ è¾“æ“ä½œ(Register Transfer Operations)**ï¼Œå®ƒä»¬ä¸»è¦åŒ…å«è¿™ä¸‰ä¸ªéƒ¨åˆ†ï¼š

    1. ç³»ç»Ÿä¸­çš„å¯„å­˜å™¨é›†åˆï¼›
    2. å¯¹äºæ•°æ®çš„æ“ä½œï¼›
    3. ç›‘ç£æ“ä½œåºåˆ—çš„æ§åˆ¶ï¼›

- å…¶ä¸­ï¼Œæœ€åŸºç¡€çš„é‚£éƒ¨åˆ†æ“ä½œè¢«ç§°ä¸º**å¾®æ“ä½œ(microoperation)**ï¼Œå®ƒä»¬æ˜¯å®ç°å¤æ‚æ“ä½œçš„åŸºç¡€ï¼Œä¾‹å¦‚å°† R1 çš„æ•°æ®è½½å…¥ R2ï¼Œå°† R1 å’Œ R2 ç›¸åŠ ï¼Œæˆ–æ˜¯è‡ªå¢ R1 ç­‰ã€‚å®ƒä»¬é€šå¸¸æ˜¯ä»¥æ¯”ç‰¹å‘é‡ä¸ºè½½ä½“å¹¶è¡Œå®ç°çš„ã€‚

### RTL å¯„å­˜å™¨ä¼ è¾“è¯­è¨€

![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20214.png)

### æ³¨æ„

- å¯¹äºå¦‚ä¸Šå‡ºç°çš„å½¢å¼å¦‚ï¼š  
    $condition: reg \leftarrow options one regs$   
    çš„è¡¨è¾¾å¼ï¼Œ`:` å·¦ä¾§å‡ºç°çš„ `+` è¡¨ç¤ºæˆ–ï¼Œå³ä¾§çš„åˆ™è¡¨ç¤ºåŠ ï¼ˆâ€œä¹˜â€ä¹Ÿæ˜¯è¿™æ ·ï¼‰ï¼

## å¯„å­˜å™¨ä¼ è¾“çš„å®ç°

- å¦‚ä½•å®ç°å¯„å­˜å™¨æ‰€å­˜å‚¨çš„æ•°æ®ä¹‹é—´çš„å¤„ç†ä¸äº¤äº’æ˜¯æœ¬ç« èŠ‚çš„æ ¸å¿ƒå‘½é¢˜ã€‚å¦‚æœè¯´Â [**å¾®æ“ä½œ**](https://note.isshikih.top/cour_note/D2QD_DigitalDesign/Chap06/#%E5%BE%AE%E6%93%8D%E4%BD%9C%E5%8F%8A%E5%85%B6%E5%AE%9E%E7%8E%B0)Â å…³æ³¨çš„æ˜¯æ•°æ®çš„å¤„ç†ï¼Œé‚£Â [**å¯„å­˜å™¨ä¼ è¾“**](https://note.isshikih.top/cour_note/D2QD_DigitalDesign/Chap06/#%E5%AF%84%E5%AD%98%E5%99%A8%E4%BC%A0%E8%BE%93)Â åˆ™ç€çœ¼äºæ•°æ®ä¹‹é—´çš„äº¤äº’ã€‚

- æ¢å¥è¯æ¥è¯´ï¼Œå¦‚ä½•æŠŠæ•°æ®ç»™åˆ°åˆ«çš„å¯„å­˜å™¨ã€å¦‚ä½•è·å–åˆ«çš„å¯„å­˜å™¨ç»™åˆ°çš„æ•°æ®ã€å¦‚ä½•ä¼ è¾“å’Œé€‰æ‹©è¿™äº›æ•°æ®ï¼Œå°±æ˜¯æœ¬å°èŠ‚è¦è§£å†³çš„é—®é¢˜ã€‚

- ç‰¹åˆ«çš„ï¼Œå¯„å­˜å™¨ä¼ è¾“çš„å®ç°å¯ä»¥ç›´æ¥å®ç°Â [**è½¬ç§»**](https://note.isshikih.top/cour_note/D2QD_DigitalDesign/Chap06/#%E8%BD%AC%E7%A7%BB)Â æ“ä½œ

![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20215.png)

### MUX-based Transfers 
=== "åŸºäº MUX å®ç°ä¼ è¾“"

    - å¯¹äºä¸€ä¸ªå•ä¸€å¯„å­˜å™¨ï¼Œå®ƒçš„**è¾“å…¥**å¯èƒ½æœ‰å¤šç§æ¥æºï¼Œä¾‹å¦‚å…¶å®ƒå¯„å­˜å™¨ï¼Œåˆæˆ–è€…æ˜¯å…¶ä»–æ“ä½œçš„ç»“æœã€‚æ€»è€Œè¨€ä¹‹ï¼Œå®ƒçš„è¾“å…¥å¾ˆå¯èƒ½æ˜¯ä¸å”¯ä¸€çš„ï¼Œè€ŒåŒä¸€æ—¶åˆ»æˆ‘ä»¬åªèƒ½æ¥å—ä¸€ä¸ªæ¥æºçš„è¾“å…¥ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨Â `MUX`Â æ¥å¯¹è¾“å…¥è¿›è¡Œé€‰æ‹©ã€‚

    ![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20216.png)

    ![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20217.png)

    - ç”¨è¯­è¨€æ¥æè¿°è¿™ä¸ªæ€»ä½“æ¶æ„å°±æ˜¯ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ç³»åˆ— `one-hot` ç¼–ç ï¼ˆæˆ–è€…æ˜¯ one-coldï¼‰æ¥è¡¨ç¤ºé€‰æ‹©å“ªä¸ªè¾“å…¥æºï¼ˆä¸‹å›¾ä¸­ $K_0\sim K_{n-1}$ï¼‰ï¼Œå†é€šè¿‡ `Encoder` å°†å®ƒä»¬ç¼–ç ä½œä¸º `MUX` çš„è¾“å…¥é€‰æ‹©ä¿¡å·ï¼ˆä¸‹å›¾ä¸­ $S_m \sim S_0$ï¼‰ï¼Œä»å¤šä¸ªè¾“å…¥æºï¼ˆä¸‹å›¾ä¸­ $0 \sim k \sim (n-1)$ï¼‰ä¸­é€‰æ‹©å¯¹åº”çš„æºï¼Œå¹¶è¾“å‡ºï¼Œç»™åˆ° R0ï¼›æ­¤å¤–ï¼Œå°†é€‰æ‹©ä¿¡å·éƒ½æˆ–èµ·æ¥ï¼Œä½œä¸º R0 çš„ Load ä¿¡å·è¾“å…¥ã€‚



=== "Dedicated MUX-Based"

    ![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20218.png)

    - æ¯ä¸ªRegisterä¸€ä¸ªç‹¬ç«‹çš„MUXï¼Œæˆ‘ä»¬å°±å¯ä»¥æ§åˆ¶ R0,R1,R2ä¹‹é—´çš„ç›¸äº’ä¼ è¾“

=== "Bus implementation"
    - åŸºäºæ€»çº¿å®ç°ä¼ è¾“    **MUX Bus**
    ![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20219.png)

    - å…±äº«ä¸€ä¸ªMUXï¼Œç”¨S0,S1å’Œå„ä¸ªLoadä¿¡å·æ§åˆ¶ä¼ è¾“

===  "**Three-State Bus**"

    ![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20220.png)

    - ä¸€æ¡çº¿ä¸Šï¼Œåªèƒ½æœ‰ä¸€ä¸ªè¾“å…¥ä¿¡å·ï¼Œæ¯ä¸ªå¯„å­˜å™¨é…ä¸€ä¸ªä¸‰æ€é—¨æ§åˆ¶å…¶ä¼ è¾“

## å¾®æ“ä½œåŠå…¶å®ç°

- å¾®æ“ä½œä¸€èˆ¬åˆ†ä¸ºè¿™å››ç§ï¼š

    1. è½¬ç§»ï¼Œtransfer microoperationsï¼Œå°†æ•°æ®ä»ä¸€ä¸ªå¯„å­˜å™¨è½¬ç§»åˆ°å¦å¤–ä¸€ä¸ªå¯„å­˜å™¨ï¼›
    2. ç®—æœ¯ï¼Œarithmetic microoperationsï¼Œå¯¹æ•°æ®çš„ç®—æœ¯è¿ç®—æ“ä½œï¼›
    3. é€»è¾‘ï¼Œlogic microoperationsï¼Œå¯¹æ•°æ®çš„é€»è¾‘è¿ç®—æ“ä½œï¼›
    4. ç§»ä½ï¼Œshift microoperationsï¼Œå¯¹æ•°æ®çš„ç§»ä½æ“ä½œï¼›

### è½¬ç§»

- ä¸æ”¹å˜æ•°æ®æœ¬èº«ï¼Œåªæ˜¯ä»ä¸€ä¸ªå¯„å­˜å™¨ä¸­æŠŠæ•°æ®ç§»åŠ¨åˆ°å¦å¤–ä¸€ä¸ªå¯„å­˜å™¨ã€‚

- å°† R0 ä¸­çš„æ•°æ®è½¬ç§»åˆ° R1 ä¸­ï¼Œç”¨ RTL è¡¨ç¤ºå°±æ˜¯Â $ğ‘…0â†ğ‘…1$ã€‚

- è¿™ä¸€éƒ¨åˆ†çš„å®ç°é€”å¾„åœ¨Â [**å¯„å­˜å™¨ä¼ è¾“çš„å®ç°**](https://note.isshikih.top/cour_note/D2QD_DigitalDesign/Chap06/#%E5%AF%84%E5%AD%98%E5%99%A8%E4%BC%A0%E8%BE%93%E7%9A%84%E5%AE%9E%E7%8E%B0)Â å·²ç»é˜è¿°ã€‚

### ç®—æœ¯

![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20221.png)

---

- å°±åƒæˆ‘ä»¬ä¹‹å‰å­¦è¿‡çš„ï¼Œç”¨åŠ æ³•å™¨å®ç°åŠ å‡æ³•å™¨ï¼Œåœ¨ RTL å’Œæ¨¡å—é€»è¾‘ç”µè·¯çš„ç»´åº¦ä¸‹ï¼Œå¯ä»¥è¿™ä¹ˆè¡¨ç¤ºï¼š

$\begin{aligned}    &\overline{X}K_1:R_1\leftarrow R_1 + R_2 \\
    &XK_1:R_1\leftarrow R_1 + \overline{R_2} + 1
\end{aligned}$

- ![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20222.png)

### é€»è¾‘

![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20223.png)

- ç›´æ¥ç”¨é€»è¾‘é—¨å³å¯

### ç§»ä½

=== "ä¸²è¡Œ"

    ![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20224.png)

    ![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20225.png)

    - åˆ©ç”¨å¤šä¸ªD-FFï¼Œå‰ä¸€ä¸ªçš„è¾“å‡ºä½œä¸ºåè€…çš„è¾“å…¥ï¼Œå†å¤šæ·»ä¸€ä¸ª `serial input/shift right input` (In)


=== "**å¹¶è¡Œ (Parallel Load)** "

    ![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20226.png)

    - å¹¶è¡Œè¾“å‡ºçš„å®ç°éå¸¸ç®€å•ï¼Œåªéœ€è¦ç»™æ¯ä¸€ä¸ªÂ `FF`Â çš„è¾“å‡ºå¼•å‡ºä¸€æ¡çº¿å°±è¡Œäº†ï¼Œå®ƒä¸ä¸²è¡Œè¾“å‡ºå¯ä»¥ç›´æ¥åŒæ—¶å­˜åœ¨ï¼›è€Œå¹¶è¡Œè¾“å…¥åˆ™ä¸ä¸²è¡Œè¾“å…¥å†²çªï¼Œä¸€æ¬¡åªèƒ½å®ç°å…¶ä¸­ä¸€ä¸ªï¼Œæ‰€ä»¥éœ€è¦ä¸€äº›æ§åˆ¶ç”µè·¯

    ![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20227.png)

    - çœ‹èµ·æ¥æœ‰ç‚¹å¤æ‚ï¼Œä½†æ˜¯å®é™…ä¸Šé€»è¾‘è¿˜æ˜¯å¾ˆæ¸…æ™°çš„ã€‚

    - çºµå‘è§‚å¯Ÿå³ä¾§çš„å››ä¸ªÂ `FF`ï¼Œå¯ä»¥å‘ç°åŸºæœ¬ä¸Šå°±æ˜¯ä¸²è¡Œç§»ä½å®ç°ï¼Œåªä¸è¿‡å…¶è¾“å…¥ä¸å†æ˜¯ç›´æ¥ä»ä¸Šä¸€ä¸ªÂ `FF`Â é‚£è¾¹æ‹¿æ¥çš„ï¼›
    - å››ä¸ªÂ `FF`Â çš„è¾“å…¥æ˜¯ç±»ä¼¼çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä»…å…³æ³¨æœ€ä¸Šé¢çš„é‚£ä¸‰ä¸ªä¸é—¨å’Œä¸€ä¸ªæˆ–é—¨ï¼Œè¡¨ç¤ºæ•°æ®è¾“å…¥æœ‰ä¸‰ä¸ªå¯èƒ½çš„æ¥æºï¼›
        1. ç¬¬ä¸€ä¸ªä¸é—¨ï¼Œ $F_i=Shiftâ‹…SI$ï¼ˆå¯¹äºåé¢å‡ ä¸ªÂ `FF`ï¼Œåˆ™æ˜¯Â $F_i=Shiftâ‹…FF_{iâˆ’1}$ï¼‰ï¼Œå¯ä»¥å‘ç°ï¼Œæ­¤æ—¶ç”µè·¯çš„è¡Œä¸ºä¸**ä¸²è¡Œç§»ä½å®ç°**ä¸€è‡´ï¼›
            
            $ğ¹_ğ‘–=ğ‘†â„ğ‘–ğ‘“ğ‘¡â‹…ğ‘†ğ¼$
            
            $ğ¹_ğ‘–=ğ‘†â„ğ‘–ğ‘“ğ‘¡â‹…ğ¹ğ¹_{ğ‘–âˆ’1}$
            
            - å³Â *Shift*Â ä¸ºÂ `1`Â æ—¶ï¼Œ`SHR`Â è¡¨ç°ä¸ºã€Œ**æ¯ä¸ªå‘¨æœŸæ‰§è¡Œä¸€æ¬¡ç§»ä½**ã€ï¼›
        2. ç¬¬äºŒä¸ªä¸é—¨ï¼Œ*Fi*=*Shift*â‹…*Load*â‹…*Di*ï¼Œæ­¤æ—¶ç”µè·¯çš„è¡Œä¸ºæ˜¯ä½¿ç”¨æ¯”ç‰¹å‘é‡å¯¹æ¯ä¸€ä¸ªÂ `FF`Â èµ‹å€¼ï¼Œå³**å¹¶è¡Œè½½å…¥**ï¼›
            
            $ğ¹_ğ‘–=\overline{ğ‘†â„ğ‘–ğ‘“ğ‘¡}â‹…ğ¿ğ‘œğ‘ğ‘‘â‹…ğ·_ğ‘–$
            
            - å³Â $\overline{ğ‘†â„ğ‘–ğ‘“ğ‘¡}â‹…ğ¿ğ‘œğ‘ğ‘‘$ä¸ºÂ `1`Â æ—¶ï¼Œ`SHR`Â è¡¨ç°ä¸ºã€Œ**å¹¶è¡Œè½½å…¥**ã€ï¼›
        3. ç¬¬ä¸‰ä¸ªä¸é—¨ï¼Œ*Fi*=*Shift*â‹…*Load*â‹…*Qi*ï¼Œæ­¤æ—¶ç”µè·¯çš„è¡Œä¸ºæ˜¯ä¿æŒä¸Šä¸€å‘¨æœŸçš„ç»“æœï¼›
            
            $ğ¹_ğ‘–=\overline{ğ‘†â„ğ‘–ğ‘“ğ‘¡}â‹…\overline{ğ¿ğ‘œğ‘ğ‘‘}â‹…ğ‘„_ğ‘–$
            
            - å³Â $\overline{Shift}â‹…\overline{Load}$Â ä¸ºÂ `1`Â æ—¶ï¼Œ`SHR`Â è¡¨ç°ä¸ºã€Œ**ä¿æŒ**ã€ï¼›
        

    - æ€»å’Œæ¥è¯´ï¼Œå°±æ˜¯ï¼š

    $Shift:Qâ†\text{sl}~Q\\\overline{Shift}Â·Load:Qâ†D\\\overline{Shift}Â·\overline{Load}:Qâ†Q$



=== "åŒå‘ç§»ä½"

    ![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20228.png)

    - ç”¨ä¸€ä¸ªMUXæ¥æ§åˆ¶4ç§åŠŸèƒ½

------

## Counter

- å¯¹æ¯”ä¸¤ç§è®¡æ•°å™¨

![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20229.png)

### Ripple Counter è¡Œæ³¢è®¡æ•°å™¨ï¼ˆå¼‚æ­¥ï¼‰

- è¡Œæ³¢è®¡æ•°å™¨çš„ä¸»è¦æ€æƒ³å°±æ˜¯å°†ä¸€ä¸ªä¸æ–­è‡ªåçš„Â `FF`Â çš„è¾“å‡ºç›´æ¥æˆ–é—´æ¥ä½œä¸ºä¸‹ä¸€ä¸ªÂ `FF`Â çš„æ—¶é’Ÿè„‰å†²ã€‚ç”±äºå½¢æˆä¸€æ¬¡è„‰å†²éœ€è¦ä¸€å¯¹Â `0`&`1`ï¼Œæ‰€ä»¥å‰ä¸€ä¸ªÂ `FF`Â å–åä¸¤æ¬¡æ‰èƒ½å¼•èµ·ä¸‹ä¸€ä¸ªÂ `FF`Â å–åä¸€æ¬¡ï¼Œå¦‚æœä¸‹ä¸€ä¸ªÂ `FF`Â æ˜¯åœ¨ä¸Šä¸€ä¸ªÂ `FF`Â çš„è¾“å‡ºä»Â `1`Â å˜Â `0`Â æ—¶è§¦å‘ï¼Œé‚£ä¸¤ä¸ªÂ `FF`Â çš„å˜åŒ–åˆšå¥½å¯¹åº”äºäºŒè¿›åˆ¶è‡ªå¢çš„è¿›ä½è§„å¾‹ï¼š`(0,0)`ï¼Œ`(0,1)`ï¼Œ`(1,0)`ï¼Œ`(1,1)`ï¼Œ`(0,0)`ï¼Œ...

![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20230.png)

![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20231.png)

- å¯ä»¥å‘ç°ï¼Œè¡Œæ³¢è®¡æ•°å™¨çš„ä¼˜ç‚¹æ˜¯ç”µè·¯ç®€å•ï¼Œæˆæœ¬ä½ï¼›ä½†æ˜¯ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œæ—¢ç„¶å®ƒä¸åŒæ­¥è®¡æ•°å™¨ç›¸åŒºåˆ†ï¼Œå°±è¯´æ˜å®ƒä¸æ˜¯åŒæ­¥ç”µè·¯ï¼Œæ¯ä¸€ä¸ªÂ `FF`Â éƒ½ä¼šæœ‰ä¼ æ’­å»¶æ—¶ï¼Œ**éšç€è®¡æ•°èŒƒå›´å¢å¤§ï¼Œæ€»ä¼ æ’­å»¶æ—¶ä¹Ÿä¼šå¢åŠ **ï¼Œè€Œä¸ºäº†è®©ç”µè·¯æ­£å¸¸å·¥ä½œï¼Œæ—¶é’Ÿé¢‘ç‡ä¹Ÿè¦å› æ­¤ä¸‹é™ã€‚

- ç”±äºè¿™äº›ï¼Œä¹¦ä¸Šå¯¹è¡Œæ³¢è®¡æ•°å™¨çš„è¯„ä»·æ˜¯å¤šæ•°æƒ…å†µä¸‹è¡Œæ³¢åŠ æ³•å™¨åªä¼šåœ¨ä½åŠŸè€—ç”µè·¯ä¸­è¢«é‡‡ç”¨ã€‚

---

![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20232.png)

![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20233.png)

-------

### Synchronous Counters åŒæ­¥è®¡æ•°å™¨

![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20234.png)

![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20235.png)

- å·¦è¾¹æ˜¯ä¸ªè‡ªå¢å™¨ï¼Œå³è¾¹æ˜¯4ä¸ªD-FFï¼Œç”¨CEæ¥æ§åˆ¶æ˜¯å¦è‡ªå¢ï¼ŒCOæ˜¯æ»¡æº¢çš„è¾“å‡º

---

!!! note "åŒæ­¥è½½å…¥"

    ![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20236.png)

    - è¿™é‡ŒåŒæ­¥è½½å…¥çš„å«ä¹‰å¯ä»¥åŒÂ [**ç§»ä½å¯„å­˜å™¨çš„å¹¶è¡Œè½½å…¥**](https://note.isshikih.top/cour_note/D2QD_DigitalDesign/Chap06/#%E5%B9%B6%E8%A1%8C%E5%8C%96)Â ç±»æ¯”ï¼Œå…¶ä¸»è¦ç›®çš„æ˜¯å°†è®¡æ•°å™¨çš„å½“å‰å€¼è®¾ä¸ºä¸€ä¸ªæˆ‘ä»¬éœ€è¦çš„æ•°å­—ã€‚

    ![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20237.png)

    ![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20238.png)

### Synchronous BCD

![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20239.png)

![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20240.png)

![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20241.png)

![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20242.png)

![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20243.png)

- å½“è®¡æ•°å™¨çš„è¾“å‡ºä¸ºÂ `9`Â æ—¶ï¼Œä¸‹ä¸€å‘¨æœŸè®©è®¡æ•°å™¨è½½å…¥Â `0`

> æŒ‰ç†æ¥è¯´è¿™é‡Œåº”è¯¥æ˜¯Â $ğ¿ğ‘œğ‘ğ‘‘=ğ‘„_0â‹…\overline{ğ‘„_1}â‹…\overline{ğ‘„_2}â‹…ğ‘„_3$ï¼Œä»¥å¯¹åº”Â 9D=1001Bï¼Œä½†æ˜¯ç”±äºè‡ªå¢è¿‡ç¨‹ä¸­ï¼Œ`1001`Â æ˜¯ç¬¬ä¸€ä¸ªæ»¡è¶³Â `1??1`Â çš„ç»„åˆï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ç®€åŒ–ä¸ºÂ $ğ¿ğ‘œğ‘ğ‘‘=ğ‘„_0â‹…ğ‘„_3$
> 

---

??? note "Mod N è®¡æ•°å™¨"

    - å®é™…ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥æŠŠ BCD ç å¾ªç¯è®¡æ•°å™¨çœ‹ä½œæ˜¯ç‰¹æ®Šçš„ Mod N è®¡æ•°å™¨ï¼Œå³ N = 10 çš„ Mod N è®¡æ•°å™¨ã€‚

    - æˆ–è®¸ä½ ä¼šæƒ³ï¼Œå®ç° Mod N è®¡æ•°å™¨èƒ½ä¸èƒ½åœ¨æ»¡è¶³è¾“å‡ºæ¡ä»¶åç›´æ¥ä½¿ç”¨Â `Clear`Â è¾“å…¥ã€‚ä½†æ˜¯è¯·ä¸è¦å¿˜è®°äº†ï¼Œ`Clear`Â ä¹Ÿå¥½ï¼Œ`Set`Â ä¹Ÿç½¢ï¼Œå®ƒä»¬éƒ½æ˜¯å¼‚æ­¥æ“ä½œã€‚æˆ‘ä»¬æ²¡æœ‰å¿…è¦ä¹Ÿä¸åº”è¯¥ä½¿ç”¨å¼‚æ­¥æ“ä½œï¼Œæ‰€ä»¥æœ€å¥½çš„åšæ³•è¿˜æ˜¯ä½¿ç”¨Â `Load`ã€‚

    ![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20244.png)

## Register Cell
å¯„å­˜å™¨å•å…ƒ

**å¯„å­˜å™¨å•å…ƒ(Register Cell)**æ˜¯å¯„å­˜å™¨çš„ä¸ªä½“å•å…ƒï¼Œä¸»è¦åŒ…æ‹¬ä¸€ä¸ªÂ `FF`Â åŠå®ç°å…¶ç»„åˆé€»è¾‘çš„ç»„åˆç”µè·¯ã€‚

### Register cell design

- è®¾è®¡å¯„å­˜å™¨ï¼ˆå°¤å…¶æ˜¯å¤§è§„æ¨¡çš„å¯„å­˜å™¨ï¼‰çš„é‡è¦æ‰‹æ®µä¹‹ä¸€ï¼Œå°±æ˜¯**å¯„å­˜å™¨å•å…ƒè®¾è®¡(Register Cell Design)**ã€‚é€šå¸¸éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

    1. è®¾è®¡å…·æœ‰ä»£è¡¨æ€§çš„å¯„å­˜å™¨å•å…ƒï¼›
    2. å¤åˆ¶å¹¶è¿æ¥è‹¥å¹²ä¸ªè¿™æ ·çš„å¯„å­˜å™¨å•å…ƒï¼›
    3. ä¿®æ”¹æŸå‡ ä¸ªå¯„å­˜å™¨å•å…ƒï¼ˆé€šå¸¸å¯èƒ½æ˜¯ä¸€ä¸²å¯„å­˜å™¨çš„é¦–å°¾ä¸¤ä¸ªå•å…ƒï¼‰ä»¥è§£å†³ä¸€äº›ç‰¹æ®Šæƒ…å†µæˆ–è¾¹ç•Œé—®é¢˜ï¼›

### Register Cell Specification

- è®¾è®¡å¯„å­˜å™¨å•å…ƒæ—¶ï¼Œæˆ‘ä»¬éœ€è¦å¯¹å¯„å­˜å™¨å•å…ƒè¿›è¡Œå®šä¹‰ã€‚è€ŒæŒ‡å®š(Specify)ä¸€ä¸ªå¯„å­˜å™¨å•å…ƒçš„åŠŸèƒ½çš„ä¸»è¦æœ‰è¿™äº›æ–¹é¢ï¼š

- å¯„å­˜å™¨çš„åŠŸèƒ½å‡½æ•°ï¼›
    - ä¸€èˆ¬æŒ‡å¯„å­˜å™¨ä¼ è¾“ï¼›
- æ§åˆ¶ä¿¡å·æ„æˆï¼›
    - æœ‰å“ªäº›æ§åˆ¶ä¿¡å·ã€æ˜¯å¦ç¼–ç ã€å¦‚ä½•å†³å®šæ˜¯å¦ Load ç­‰ï¼›
    
    ![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20245.png)
    
- å¯„å­˜å™¨çš„è¾“å…¥æ•°æ®ï¼›
    - æœ‰å“ªäº›è¾“å…¥æ•°æ®ã€æ˜¯å¦éœ€è¦é¢„å…ˆå¤„ç†ç­‰ï¼›

- åœ¨å®é™…å®ç°æ—¶ï¼Œåˆ†ä¸ºÂ `MUX`Â å®ç° å’Œ æ—¶åºé€»è¾‘å®ç° ä¸¤ç§æ–¹æ³•ã€‚

- MUX æ˜“è¯»ç®€å•ä½†é—¨è¾“å…¥ä»£ä»·é«˜ï¼Œä¼ ç»Ÿæ—¶åºç”µè·¯è®¾è®¡ä¸æ˜“è¯»ä½†ä»¬è¾“å…¥ä»£ä»·ä½

---

!!! note "MUXå®ç°"

    ![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20246.png)

    ??? tip "Example 1"
    
        ![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20247.png)
    
        === "**MUXæ³•**"
        
            ![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20248.png)
        
            ![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20249.png)
        
        === "ä¼ ç»Ÿæ—¶åºç”µè·¯è®¾è®¡æ³•"
        
            ![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20250.png)
            
            ![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20251.png)
            
            ![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20252.png)
            
            ![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20253.png)
            

---

## Register Transfer System Design
å¯„å­˜å™¨ä¼ è¾“ç³»ç»Ÿè®¾è®¡

1. ç¡®å®šç³»ç»Ÿçš„è¡Œä¸º(specification)ï¼›
2. å®šä¹‰å¤–éƒ¨çš„è¾“å…¥ã€è¾“å‡ºï¼Œä»¥åŠæ§åˆ¶å•å…ƒ(control unit)å’Œæ•°æ®é€šè·¯(datapath)éœ€è¦çš„å¯„å­˜å™¨ï¼›
3. è®¾è®¡çŠ¶æ€æœºï¼›
4. å®šä¹‰å†…éƒ¨çš„æ§åˆ¶ä¿¡å·ã€çŠ¶æ€ä¿¡å·ï¼›
    - ç”¨è¿™äº›ä¿¡å·æ¥åˆ†é…è¾“å‡ºæ¡ä»¶(output condition)ã€è¾“å‡ºè¡Œä¸º(output actions)ç­‰ï¼ŒåŒ…æ‹¬å¯„å­˜å™¨ä¼ è¾“(register transfer)ï¼ˆä¸ªäººç†è§£æ˜¯è®¾è®¡å†…éƒ¨ä¿¡å·æ¥è¿›ä¸€æ­¥è®¾è®¡çŠ¶æ€æœºï¼ŒåŒ…æ‹¬è®¾è®¡ TCã€OCã€OA ç­‰ï¼‰ï¼›
5. ç»˜åˆ¶æ¡†å›¾(block diagram)ï¼›
6. è®¾è®¡æ§åˆ¶å•å…ƒå’Œæ•°æ®é€šè·¯çš„å¯„å­˜å™¨ä¼ è¾“é€»è¾‘(register transfer logic)ï¼›
7. è®¾è®¡æ§åˆ¶å•å…ƒé€»è¾‘(control unit logic)ï¼›
8. éªŒè¯æ­£ç¡®æ€§ï¼›

??? tip "Example Dash-Watch"

    ![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20254.png)

    - åˆ†æè¾“å…¥ã€è¾“å‡ºã€å¯„å­˜å™¨

    ![Untitled](Logic%20and%20computer%20design%20fundamentals%20126e5290981e4d10ad7dab4e845bdd25/Untitled%20255.png)
